<?xml version="1.0" encoding="UTF-8"?>
<root xmlns="http://www.bebrb.org/schema" 
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:account="modules/acc.xml"
		xmlns:xsd="http://www.w3.org/2001/XMLSchema">
	<datasources>
	  
	  <datasource id="q2" key="document_id" cache-control="IsModified">
		  <sql><![CDATA[
		    	select * 
		    	from trade
		  ]]></sql>
		  <attributes>
		  	<attribute type="Integer" name="document_id" visible="false"/>
		  	<attribute type="Date" name="document_date" visible="true"  caption="Дата документа"/>
		  </attributes>
	  </datasource>
	  
	  <datasource id="q1" lazy="false">
	  	<reference id="r1" view="v1"></reference>
	  </datasource>
	</datasources>
	
	<references>
	  <reference id="r1" type="Simple" title="Поставщики" key="COMPANY_ID">
	    <attributes>
	    	<attribute type="Integer" name="COMPANY_ID" visible="false"/>
	    	<attribute type="String" name="COMPANY_NAME" size="80" caption="Поставщик"/>
	    	<attribute type="String" name="COMPANY_ADDRESS" size="160" caption="Адрес поставщика"/>
	    </attributes>
	  	<views default="v1">
	  		<view name="v1" title="По умолчанию">
	  			<sql>
	  			  <![CDATA[
	    			select company_id,
	    			       company_name,
	    			       company_address 
	    			from company
	    			]]>
	    			</sql>	
	  		</view>
	  		<view name="v2" title="Избранные">
	  			<sql>
	    			select company_id,
	    			       company_name,
	    			       company_address
	    			from company
	    			where company_name like :mask
	    			</sql>	
	  		</view>
	  	</views>
	  	<insert>
	  		<arguments>
	  			<arg name="a" type="Integer"/>
	  			<arg name="b" type="Date"/>
	  			<arg name="c" type="String"/>
	  		</arguments>
	  		function(a,b,c) {
	  		}
	  	</insert>
	  	<delete ref="account.operdel"/>
	  </reference>
	</references>
</root>
